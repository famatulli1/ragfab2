# =================================================================
# Example Configuration for Chocolatine LLM with Function Calling
# =================================================================
# This is an example configuration to use Chocolatine with RAGFab
# Copy this to .env and adjust values for your setup

# -------------------------------------------
# Generic LLM Configuration (Chocolatine)
# -------------------------------------------
LLM_API_URL=https://apigpt.mynumih.fr
LLM_API_KEY=  # Leave empty if not required
LLM_MODEL_NAME=jpacifico/Chocolatine-2-14B-Instruct-v2.0.3
LLM_USE_TOOLS=true  # Set to true to enable function calling
LLM_TIMEOUT=120.0

# -------------------------------------------
# Database Configuration
# -------------------------------------------
POSTGRES_USER=raguser
POSTGRES_PASSWORD=changeme_secure_password
POSTGRES_DB=ragdb
POSTGRES_PORT=5432
DATABASE_URL=postgresql://raguser:changeme_secure_password@postgres:5432/ragdb

# -------------------------------------------
# Embeddings Configuration
# -------------------------------------------
EMBEDDINGS_API_URL=http://embeddings:8001
EMBEDDINGS_PORT=8001
EMBEDDING_MODEL=intfloat/multilingual-e5-large
EMBEDDING_DIMENSION=1024

# -------------------------------------------
# Reranking Configuration
# -------------------------------------------
RERANKER_ENABLED=false  # Set to true to enable reranking
RERANKER_API_URL=http://reranker:8002
RERANKER_PORT=8002
RERANKER_MODEL=BAAI/bge-reranker-v2-m3
RERANKER_TOP_K=20
RERANKER_RETURN_K=5

# -------------------------------------------
# Ingestion Configuration
# -------------------------------------------
CHUNK_SIZE=1500
CHUNK_OVERLAP=200
MAX_CHUNK_SIZE=2000
USE_SEMANTIC_CHUNKING=true

# -------------------------------------------
# Worker Configuration
# -------------------------------------------
WORKER_POLL_INTERVAL=3
WORKER_TIMEOUT_MINUTES=30
UPLOAD_DIR=/app/uploads
MAX_UPLOAD_SIZE=100

# -------------------------------------------
# Web API & Frontend Configuration
# -------------------------------------------
API_PORT=8000
FRONTEND_PORT=3000
VITE_API_URL=http://localhost:8000
CORS_ORIGINS=
JWT_SECRET=your-secret-key-change-in-production
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin

# -------------------------------------------
# VLM Configuration (Optional)
# -------------------------------------------
VLM_ENABLED=false
VLM_API_URL=https://your-vlm-api.com/v1
VLM_API_KEY=
VLM_MODEL_NAME=SmolDocling-256M
VLM_TIMEOUT=60.0
VLM_PROMPT=Décris cette image en détail en français. Extrais tout le texte visible.

# -------------------------------------------
# Image Processing Configuration
# -------------------------------------------
IMAGE_STORAGE_PATH=/app/uploads/images
IMAGE_MAX_SIZE_MB=10
IMAGE_QUALITY=85
IMAGE_OUTPUT_FORMAT=png

# -------------------------------------------
# Application Configuration
# -------------------------------------------
LOG_LEVEL=INFO
DEBUG_MODE=false

# -------------------------------------------
# Docker / Coolify Configuration
# -------------------------------------------
EMBEDDINGS_CPU_LIMIT=4
EMBEDDINGS_CPU_RESERVATION=2
EMBEDDINGS_MEMORY_LIMIT=8
EMBEDDINGS_MEMORY_RESERVATION=4
